<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Projeto de PI</title>
</head>

<body>
    <h2>Margem de lucro em relação a movimentação em diferentes corredores</h3>
        <i>(comparativo entre os corredores a sua escolha)</i><br>
    <div style="float: left; width: 47%; background-color: rgb(248, 255, 189);">
            <h3>Dados do dia</h3>
            Quantidade de clientes: <input type="text" id="inpTotalClientes"><br>
            <i>(dado obtido pelo sensor localizado na porta e armazenado no DB)</i><br>
            Quantidade de produtos comprados: <input type="text" id="inpTotalCompras"><br>
            <i>(dado obtido pelos caixas)</i><br>
            Total de tempo entre todos os corredores: <br><input type="text" placeholder="Horas" id="inpTotalTempoHoras"><input type="text" placeholder="Minutos" id="inpTotalTempoMinutos"><input type="text" placeholder="Segundos" id="inpTotalTempoSegundos"><br>
            <i>(dado obtido pela junção de todos os sensores excluindo os sensores das portas de entrada e saída)</i><br>
            Número total de corredores: <input type="text" id="inpTotalGondolas"><br>
            <i>(total de corredores no mercado)</i>
            <h4>Primeiro corredor</h4>
            Tempo total do sensor: <input type="text" placeholder="em segundos" id="inpTempoPrimeira"><br>
            <i>(dado obtido pelo sensor localizado no corredor escolhida e armazenado no DB)</i><br>
            <h4>Segundo corredor</h4>
            Tempo total do sensor: <input type="text" placeholder="em segundos" id="inpTempoSegunda"><br>
            <i>(dado obtido pelo sensor localizado no corredor escolhida e armazenado no DB)</i><br>
            <br>
            <button onclick="funcComparativo()">Comparar gôndolas</button><br>
             
    </div>
    <div style="width: 6%; float: left;"> </div>
    <div style="float: left; width: 47%; background-color: rgb(192, 192, 192);">
        <h3 id="spComparativo" style="display: none;">Comparativo:</h3>
        <span id="spResultado"></span>
    </div>
</body>

</html>
<script>
    var mediaProdutosComprados;
    var mediaTempoParado;
    var mediaTempoParaCompra;
    var mediaTempoPrimeira;
    var mediaTempoSegunda;
    var mediaPorGondola;


    function funcComparativo() {
        //Calculos
        //Media de produtos comprados por cliente
        mediaProdutosComprados = inpTotalCompras.value / inpTotalClientes.value;
        //Media de tempo em que clientes ficam parados em frente as gôndolas
        mediaTempoParado = (((inpTotalTempoHoras.value * 60) + Number(inpTotalTempoMinutos.value)) * 60 + Number(inpTotalTempoSegundos.value)) / inpTotalClientes.value;
        //Media de segundos para que um cliente compre um produto;
        mediaTempoParaCompra = inpTotalTempoSegundos.value / inpTotalCompras.value;
        mediaPorGondola = inpTotalCompras.value / inpTotalGondolas.value;
        //primeira gôndola
        mediaTempoPrimeira = inpTempoPrimeira.value / inpTotalClientes.value;
        mediaCompraPrimeira = mediaTempoPrimeira / mediaTempoParaCompra;
        totalCompraPrimeira = mediaCompraPrimeira * inpTotalClientes.value;
        //segunda gôndola
        mediaTempoSegunda = inpTempoSegunda.value / inpTotalClientes.value;
        mediaCompraSegunda = mediaTempoSegunda / mediaTempoParaCompra;
        totalCompraSegunda = mediaCompraSegunda * inpTotalClientes.value;
        //Construção do texto
        spComparativo.style.display = "block";
        //texto construido em linhas diferentes para melhor organização
        spResultado.innerHTML = `Média de produtos comprados por cliente: ${mediaProdutosComprados.toFixed(0)}<br>
            Média de tempo dentro dos corredores: ${mediaTempoParado.toFixed(0)} segundos<br>
            Média de tempo para que um cliente compre um produto: ${mediaTempoParaCompra.toFixed(2)} segundos<br>
            Vendas aproximadas por corredor: ${mediaPorGondola.toFixed(0)} (${((mediaPorGondola * 100)/inpTotalCompras.value).toFixed(2)}%)
            <br>
            <h3>Primeiro Corredor</h3>
            Média de tempo dentro do corredor: ${mediaTempoPrimeira.toFixed(2)} segundos<br>
            Média de produtos comprados por cliente: ${mediaCompraPrimeira.toFixed(0)} produtos
            <h3>Segundo Corredor</h3>
            Média de tempo dentro do corredor: ${mediaTempoSegunda.toFixed(2)} segundos<br>
            Média de produtos comprados por cliente: ${mediaCompraSegunda.toFixed(0)} produtos
            <h3>Considerações</h3>
            O primeiro corredor vendeu aproximadamente ${totalCompraPrimeira.toFixed(0)} (${((mediaCompraPrimeira * 100)/mediaProdutosComprados).toFixed(2)}%) produtos neste dia<br>
            O segundo corredor vendeu aproximadamente ${totalCompraSegunda.toFixed(0)} (${((mediaCompraSegunda * 100)/mediaProdutosComprados).toFixed(2)}%) produtos neste dia<br>
            
            

        `;
        

    }
</script>